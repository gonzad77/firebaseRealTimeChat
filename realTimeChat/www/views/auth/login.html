<ion-view>
  <ion-header-bar class="bar-stable">
    <h1 class="title">Log In</h1>
  </ion-header-bar>
  <ion-content class="padding">
    <form name="login_form" class="form-container" novalidate>
      <div class="list list-inset">
        <div class="form_group" >
          <label class="item item-input" ng-class="{ 'has_error' : login_form.email.$invalid && !login_form.email.$pristine }">
            <input type="email" placeholder="Email" name="email" ng-model="user.email" class="form_control" required>
          </label>
          <p ng-show="!login_form.email.$pristine && login_form.email.$invalid" class="help-block">Enter a valid email.</p>
        </div>
        <div class="form_group" >
          <label class="item item-input" ng-class="{ 'has_error' : login_form.password.$invalid && !login_form.password.$pristine }">
            <input type="password" placeholder="Password" name="password" ng-model="user.password" ng-minlength="5" ng-pattern="/(?=.*[a-z])(?=.*[A-Z])(?=.*[^a-zA-Z])/" required >
          </label>
          <p ng-show="!login_form.password.$pristine && login_form.password.$invalid && !login_form.password.$error.minlength && !login_form.password.$error.pattern" class="help-block">Your password is required.</p>
          <p ng-show="login_form.password.$error.minlength" class="help-block">Your password is too short.</p>
          <p ng-show="login_form.password.$error.pattern && !login_form.password.$error.minlength" class="help-block">Your password must contain one lower and uppercase letter, and one non-alpha character.</p>
        </div>
      </div>
      <button class="button button-block button-balanced" ng-click="login(user)" ng-disabled="login_form.$invalid">Login</button>
    </form>
    <button class="button button-block button-clear button-positive button-small" ui-sref="auth.signup">
      Sign Up
    </button>
    <div ng-show="errors">
      <p class="help-block" ng-repeat="error in errors"><b>[{{error.code}}]</b> {{error.msg}}</p>
    </div>
  </ion-content>
</ion-view>
